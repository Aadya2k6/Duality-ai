# HackwithBangalore 2025: Space Station Safety Object Detection
## Duality AI's Space Station Challenge - Flutter Application

This Flutter application is the official mobile submission for the Duality AI's Space Station Challenge: Safety Object Detection #2, part of the HackwithBangalore 2025 hackathon.

The objective of this project was to train a robust object detection model using a synthetic dataset generated by Duality AI's digital twin simulation platform, Falcon. The resulting model is trained to detect 7 vital pieces of safety equipment under various challenging conditions, including varied lighting, occlusions, and diverse camera angles.

---

## ğŸ¯ Target Object Categories

Our model is trained to detect and classify the following 7 objects:
* OxygenTank
* NitrogenTank
* FirstAidBox
* SafetySwitchPanel
* FireExtinguisher
* FireAlarm
* EmergencyPhone

---

## ğŸ› ï¸ Environment Setup

### Prerequisites
- Flutter SDK (latest stable version)
- Dart SDK
- Android Studio / Xcode (for mobile deployment)
- Anaconda (for ML model training)

### Flutter Setup

1. **Install Flutter**
   Follow the official Flutter installation guide: [Flutter Installation](https://docs.flutter.dev/get-started/install)

2. **Clone this repository**
   ```bash
   git clone <repository-url>
   cd app
   ```

3. **Install dependencies**
   ```bash
   flutter pub get
   ```

4. **Run the application**
   ```bash
   flutter run
   ```

### ML Model Training Environment

To train the object detection model:

1. Ensure you have **Anaconda** installed on your system.
2. Open an **Anaconda Prompt** (for Windows) or a terminal (for Mac/Linux).
3. Navigate to the `ENV_SETUP` subfolder (included in the original hackathon dataset download).
4. Run the appropriate setup script to create the conda environment:

   ```bash
   # For Windows users:
   setup_env.bat
   ```
   This command will create a new Anaconda environment named "**EDU**" and install all the necessary dependencies.

   *(**Note for Mac/Linux users:** You must create and use an equivalent `setup_env.sh` shell script as per the hackathon instructions to install the required packages.)*

---

## ğŸš€ How to Use the Application

1. **Launch the app** on your mobile device or emulator
2. **Grant camera permissions** when prompted
3. **Point the camera** at safety equipment in a space station environment
4. The app will **detect and classify** the objects in real-time
5. View **detection confidence scores** and bounding boxes around identified objects

---

## ğŸ”¬ Model Training & Evaluation

### Train the Model (Optional)

1. **Activate the Conda Environment**
   ```bash
   conda activate EDU
   ```

2. **Navigate to the Project Directory**
   ```bash
   cd <project-directory>
   ```

3. **Train the Model**
   ```bash
   python train.py
   ```
   This will save new logs, checkpoints, and results to the `runs/` directory.

### Evaluate the Model

To test the final submitted model and generate performance metrics:
```bash
python predict.py
```

This script will run the model on the provided test images and generate the final evaluation metrics, including mAP, precision, recall, and the confusion matrix.

---

## ğŸ“Š Model Performance

**Our final model achieved a mAP@0.5 score of: [YOUR mAP SCORE HERE]%**

### Performance Metrics

The evaluation generates the following outputs:

#### Confusion Matrix
Visualizes the model's performance for each class, showing correct and incorrect predictions.

![Confusion Matrix](confusion_matrix.png)

#### Normalized Confusion Matrix
Provides a clearer view of the model's recall (true positive rate) for each individual class.

![Normalized Confusion Matrix](confusion_matrix_normalized.png)

#### Performance Curves
Illustrate the model's F1, Precision, and Recall scores across different confidence thresholds.

| F1 Curve | Precision Curve |
| :---: | :---: |
| ![F1 Curve](BoxF1_curve.png) | ![Precision Curve](BoxP_curve.png) |

| PR Curve (Precision-Recall) | Recall Curve |
| :---: | :---: |
| ![PR Curve](BoxPR_curve.png) | ![Recall Curve](BoxR_curve.png) |

#### Raw Metrics
The `results.csv` file contains the final numerical metrics for all classes, including mAP@0.5, mAP@0.5:0.95, precision, and recall.

---

## ğŸ“ Project Structure

```
app/
â”œâ”€â”€ lib/                    # Flutter application source code
â”‚   â”œâ”€â”€ main.dart          # Application entry point
â”‚   â”œâ”€â”€ screens/           # UI screens
â”‚   â”œâ”€â”€ models/            # Data models
â”‚   â””â”€â”€ services/          # ML inference services
â”œâ”€â”€ assets/                # Images, models, and other assets
â”œâ”€â”€ test/                  # Unit and widget tests
â”œâ”€â”€ ENV_SETUP/            # ML environment setup scripts
â”œâ”€â”€ runs/                 # Training outputs and logs
â”œâ”€â”€ train.py              # Model training script
â”œâ”€â”€ predict.py            # Model evaluation script
â””â”€â”€ pubspec.yaml          # Flutter dependencies
```

---

## ğŸš€ Flutter Resources

If this is your first Flutter project, here are some helpful resources:

- [Lab: Write your first Flutter app](https://docs.flutter.dev/get-started/codelab)
- [Cookbook: Useful Flutter samples](https://docs.flutter.dev/cookbook)
- [Flutter Documentation](https://docs.flutter.dev/) - tutorials, samples, and full API reference

---

## ğŸ† Hackathon Information

- **Event:** HackwithBangalore 2025
- **Challenge:** Duality AI's Space Station Challenge: Safety Object Detection #2
- **Platform:** Falcon (Duality AI's digital twin simulation platform)

---

## ğŸ“ License

[Add your license information here]

---

## ğŸ‘¥ Contributors

[Add team members and contributors here]

---

## ğŸ™ Acknowledgments

- Duality AI for providing the Falcon platform and synthetic dataset
- HackwithBangalore 2025 organizers
- All contributors and team members